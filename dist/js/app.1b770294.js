(function(e){function t(t){for(var r,l,c=t[0],a=t[1],s=t[2],d=0,f=[];d<c.length;d++)l=c[d],Object.prototype.hasOwnProperty.call(o,l)&&o[l]&&f.push(o[l][0]),o[l]=0;for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r]);i&&i(t);while(f.length)f.shift()();return u.push.apply(u,s||[]),n()}function n(){for(var e,t=0;t<u.length;t++){for(var n=u[t],r=!0,c=1;c<n.length;c++){var a=n[c];0!==o[a]&&(r=!1)}r&&(u.splice(t--,1),e=l(l.s=n[0]))}return e}var r={},o={app:0},u=[];function l(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=r,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(n,r,function(t){return e[t]}.bind(null,r));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],a=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var i=a;u.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"2ad6":function(e,t,n){"use strict";n("6aba")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),o=Object(r["f"])("div",{id:"nav"},[Object(r["f"])("h1",null,"smallurll."),Object(r["f"])("p",{class:"tagline"}," a really nice looking url shortener ")],-1);function u(e,t,n,u,l,c){var a=Object(r["u"])("router-view");return Object(r["o"])(),Object(r["d"])(r["a"],null,[o,Object(r["f"])(a),Object(r["f"])("footer",null,[Object(r["f"])("p",{class:"switch",onClick:t[1]||(t[1]=function(){return c.togglelights.apply(c,arguments)})},"turn "+Object(r["w"])(l.mode)+" lights",1)])],64)}var l={data:function(){return{dark:!1,darkmode:new Darkmode,mode:"off"}},methods:{lightsoff:function(){document.body.style.backgroundColor="#17141d",document.body.style.color="white",this.dark=!0},lightson:function(){document.body.style.backgroundColor="white",document.body.style.color="black",this.dark=!1},togglelights:function(){this.darkmode.toggle(),!0===this.darkmode.isActivated()?this.mode="on":this.mode="off"}},created:function(){}};n("64be");l.render=u;var c=l,a=n("6c02"),s={class:"home"};function i(e,t,n,o,u,l){var c=Object(r["u"])("AddURL");return Object(r["o"])(),Object(r["d"])("div",s,[Object(r["f"])(c)])}var d=Object(r["f"])("br",null,null,-1),f=Object(r["f"])("br",null,null,-1),b=Object(r["f"])("input",{id:"submit-url",type:"submit",value:"small-ify!"},null,-1),p=Object(r["f"])("br",null,null,-1),g=Object(r["f"])("br",null,null,-1),O=Object(r["f"])("br",null,null,-1),h={class:"message"};function j(e,t,n,o,u,l){var c=Object(r["u"])("center");return Object(r["o"])(),Object(r["d"])(r["a"],null,[Object(r["f"])("form",{onSubmit:t[3]||(t[3]=Object(r["D"])((function(e){return l.addUrl()}),["prevent"]))},[Object(r["f"])(c,null,{default:Object(r["B"])((function(){return[Object(r["C"])(Object(r["f"])("input",{id:"url",type:"url",placeholder:"enter url to shorten. eg.: https://google.com","onUpdate:modelValue":t[1]||(t[1]=function(e){return u.url=e})},null,512),[[r["y"],u.url]]),d,Object(r["C"])(Object(r["f"])("input",{id:"slug",type:"text",placeholder:"enter slug for shortened url. eg.: /myshorturl","onUpdate:modelValue":t[2]||(t[2]=function(e){return u.slug=e})},null,512),[[r["y"],u.slug]]),f]})),_:1}),b],32),p,g,Object(r["f"])("button",{class:"stats",onClick:t[4]||(t[4]=function(e){return u.wannaViewStats=!0})},"slug stats"),O,u.wannaViewStats?Object(r["C"])((Object(r["o"])(),Object(r["d"])("input",{key:0,type:"text",placeholder:"enter slug to view stats. eg.: /myshorturl","onUpdate:modelValue":t[5]||(t[5]=function(e){return u.statSlug=e})},null,512)),[[r["y"],u.statSlug]]):Object(r["e"])("",!0),Object(r["f"])("p",h,Object(r["w"])(u.message),1)],64)}n("d3b7"),n("4d63"),n("ac1f"),n("25f0");var m={name:"AddURL",data:function(){return{url:null,slug:null,message:"",wannaViewStats:!1,statSlug:null}},methods:{addUrl:function(){function e(e){var t=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");return!!t.test(e)}console.log(this.url),console.log(this.slug),console.log(Object({NODE_ENV:"production",BASE_URL:"/"}).PROJECT_KEY),!1!==e(this.url)?fetch("/api/url",{method:"POST",body:JSON.stringify({url:encodeURIComponent(this.url),slug:this.slug}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.text()})).then((function(e){return alert(e)})):this.message="Please enter a valid URL!"}}};n("c986");m.render=j;var v=m,y={name:"Home",components:{AddURL:v}};y.render=i;var w=y,k=Object(r["E"])("data-v-7daba2a1");Object(r["r"])("data-v-7daba2a1");var S={class:"redirect-text"},_=Object(r["f"])("p",null,"Hang on, you're being redirected!",-1),x={key:0},U={key:1};Object(r["p"])();var C=k((function(e,t,n,o,u,l){return Object(r["o"])(),Object(r["d"])("div",S,[_,null!==u.url?(Object(r["o"])(),Object(r["d"])("p",x,"You are being redirected to "+Object(r["w"])(u.url)+".",1)):Object(r["e"])("",!0),!1===u.url?(Object(r["o"])(),Object(r["d"])("p",U,"Slug doesn't exist!")):Object(r["e"])("",!0)])})),R=(n("5319"),n("96cf"),n("1da1")),P={name:"Slug",data:function(){return{slug:this.$route.params.slug,url:null}},created:function(){var e=this;console.log(this.$route.params.slug),fetch("/api/geturl?slug="+this.slug).then((function(e){return e.json()})).then((function(t){null===t&&(e.url=!1,window.location.replace("/")),console.log("going to add 1 to counter!"),Object(R["a"])(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return console.log(e.slug),n.next=3,fetch("/api/counter?slug="+e.slug);case 3:return r=n.sent,n.next=6,r.text();case 6:o=n.sent,console.log(o),window.location.replace(decodeURIComponent(t.url)),"https%3A%2F%2Fwww.youtube.com%2Fwatch%3Fv%3DdQw4w9WgXcQ"===t.url?e.url="rickrolled":e.url=decodeURIComponent(t.url);case 10:case"end":return n.stop()}}),n)})))()}))}};n("b9c4");P.render=C,P.__scopeId="data-v-7daba2a1";var E=P,z=Object(r["E"])("data-v-0d9efae3"),V=z((function(e,t,n,r,o,u){return null})),A={name:"Stats"};n("2ad6");A.render=V,A.__scopeId="data-v-0d9efae3";var I=A,L=[{path:"/",name:"Home",component:w},{path:"/:slug",component:E},{path:"/stats/:slug",component:I}],T=Object(a["a"])({history:Object(a["b"])("/"),routes:L}),D=T;Object(r["c"])(c).use(D).mount("#app")},"64be":function(e,t,n){"use strict";n("c894")},"6aba":function(e,t,n){},"761c":function(e,t,n){},"8e20":function(e,t,n){},b9c4:function(e,t,n){"use strict";n("8e20")},c894:function(e,t,n){},c986:function(e,t,n){"use strict";n("761c")}});
//# sourceMappingURL=app.1b770294.js.map